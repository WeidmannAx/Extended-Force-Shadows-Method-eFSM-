function [param, distanceFactor, Bool, ConvHull, Area] = setUp_parameter
%% "CoM_Corrector"
distanceFactor = 0.5;

%% Boolean parameter
Bool.Use_Extremities = false;
Bool.save_correlation_figure = true;
Bool.save_data = true;

% whether or not using healthy foot model (instead of "flat foot")
Bool.healthy = true;
% Bool.UseMoticonGeometry = true;

%% filter parameter
% % optimized over allround AV
% param.filter_params = [0.000070197511957, 0.000000598342175, 0.000000608422754, 0.000167961398687, 0.000732725764596, 0.000000022142113, 0.000001393290759, 0.000000020837059, 0.000725631046494, ...
%     0.000000263240905, 0.000168156925077, 0.000365254366302, 0.000947212469304, 0.000002566679947, 0.000101040225079, 0.000077978401935, 0.000012240256888, 0.000001515235027, ...
%     0.289906149705723, 0.000002884666879, 0.000014025249223, 0.000024206619859, 0.000000004970841, 0.010659932630421, 0.002650368232228, 0.001387624493160, 0.000148298814215, ...
%     0.000000504033726, 0.002183178716881, 0.022733786741149, 0.008056403031631, 0.000000025625123, 0.000241112666187, 0.683598600003632];
% % optimized over larger allround AV part with "Moticon-assignment"
% param.filter_params = [0.312285359000577, 0.038835604654668, 29.301887416104250, 34.588534018271559, 1.539326160186711, 0.018240136948132, 33.591306310352053, 9.221792000826623, 13.290517743979011, ...
%     15.100611064039812, 13.099692582363717, 26.967496257641944, 39.765677124047372, 37.530468723711074, 43.179768555925655, 34.531703822569881, 0.746398626016913, 0.032630108372938, 37.288572448799933, ...
%     0.265561746542402, 0.409413736176199, 42.950594488088051, 4.237902381080254, 0.293455960699155, 39.301642066353757, 34.057434554212939, 46.396193177761653, 36.524944588612641, 34.723940964061057, ...
%     38.019928129060148, 40.388112425368718, 0.110102408733736, 0.264938131688442, 0.216069399275547];
% param.filter_params = [30.018750931416715,  36.041014671459095,  40.853120672621856,  40.630795505560073,  21.007875905449076,  13.719737055360808,  23.837494092170115,  45.390959009281865,  36.246193181585852,  38.035403940436105,  33.675958359460189,  32.502251598609632,  23.196530634835337,  15.688287437647068,   0.919688375399604,   3.807087830531486,   6.359562363057321,   9.455625488893771,   3.512198324906125,  16.613880069819452,  40.912787768268082,  46.507592140181139,  41.007106305607302,   1.436415433452830,  30.133296808840395,  28.974292104575959,  32.395774936865024,  33.774482457244353,  40.174925225440901,  42.343852192564313,  43.440753686844403,  43.161100088350466,   0.699459495873661,   0.027541655785526];
% param.filter_params = [  30.030287370931873,  36.078920103550672,  40.781915799093596,  40.620086363841892,  21.025191701719507,  13.747999358934175,  23.856197424009856,  45.299359957117424,  36.239917796711261,  38.032155583839362,  33.691076441212218,  32.519573135200176,  23.227653657071219,  15.728508357322713,   1.572724205483023,   4.005682275991226,   6.454294117103404,   9.355556111858236,   4.256243812052118,  16.617431838966482,  40.891838016251569,  46.416066871625056,  40.981605949253925,   2.124518815970103,  30.138795921468709,  28.970348828395284,  32.380818474215445,  33.758083600480298,  40.147105904872120,  42.309835199057289,  43.397411364770640,  43.120471262404642,   0.769331985362976,   0.028546584254659];
% param.filter_params = [  32.001776211527698,  37.095008580924706,  38.916670135143377,  41.688324237553040,  14.823361646316348,  12.901356613573856,  23.943261155574334,  44.113081303689576,  24.760591610790122,  32.378738899941226,  13.687643274856210,  38.999737561719947,  24.023377855354699,  14.853876843110157,   5.172033132644971,   4.724189487426628,   8.105925951875744,  11.310876299276590,   9.687408906351171,  17.242993375706320,  43.394540273367376,  46.241544640990682,  40.864258245312648,   1.504838562088963,  45.790436339289229,  41.474201604102767,   0.340386018785929,  19.403248747824545,  39.726714282782659,  42.480015548559635,  43.211751335861216,  42.992870126721847,   0.203921702649910,   0.052381991561701]
param.filter_params = [  31.782060499045738,  37.315622121753712,  39.405327272708362,  42.113217230278110,  13.907076481355165,  13.455316875718246,  23.186112991446990,  44.473852189807033,  24.179513598211514,  32.363957028079710,  12.319314542108017,  39.319298466821650,  23.215589236322629,  13.442038166772653,   0.009184097054164,   0.000622856595724,   7.278589327080125,  10.101002498353944,   7.891494322829656,  16.018898727769816,  43.644597515726986,  46.095930902823355,  41.260774800187413,   1.674510883433401,  45.941883652953003,  41.825939587986959,  19.469749563638242,  18.339113368630318,  40.154164561403235,  43.140234559932665,  44.060391228932112,  43.842794677872178,   0.286568136065873,   0.130315359112055];

equation = [11.6035,   25.4416,   24.8593,    6.2775,   33.4186,   38.3244,   30.1884,   31.2596,   26.8425,   28.7437,   31.2664,   31.3869,   30.5571,   30.4995,   30.5832,   30.2364,    1.1632,   39.4019,   17.1016,    0.7119,   38.0903,   20.5259,   36.6012,    0.3301,   20.0962,   33.4148,   24.6070,   34.6132,   35.1558,   26.2770,   35.9024,   35.7454];
param.filter_proc_equation = diag([equation(1:16)]);
param.filter_meas_equation = diag([equation(17:32)]);

param.filter_proc_variance = diag(param.filter_params(1:16));
param.filter_meas_variance = diag(param.filter_params(17:32));

% draw current states (Kinematics, Pressure Plate, FS estimation)
Bool.draw = false;

Bool.UseMoticonGeometry = false;

Bool.load_weight_curves = 1;
% whether or not to perform (in Force-Shadows described) substeps
Bool.Arch_Model = 1;
Bool.Hip_Flexor_Model = 1;
Bool.Bias_Estimation = 1;
Bool.CoM_Correction = 1;

% whether or not create video
Bool.video = false;

%% optimized ramp- and segment-covariance parameter (see commented out in last lines of "ForceShadow.tex")
a= [1.1473, 0.5941, 2.9640, 0.0388, 2.8504, 0.0193, 0.2381, 0.7244, 0.2842, 2.3847, 0.8256, 0.1252, 0.0989, 0.4454, 1.2916, (0.1394+0.2701)/2];
param.extremities = a(3:6);
a = [1.1473    0.5941    0.2381    0.7244    0.2842    2.3847    0.8256    0.1252    0.0989    0.4454    1.2916    0.2047];
% a = a([1:2, 7:16]);

param.ramp = a(9:11);
% if Bool.UseMoticonGeometry
%     param.arch_height = 0.431930882817819; % 6.654607764298849 % 0.423344801016585 (0.426147490846166)
% else
    param.arch_height = a(12);
% end
k = -4/3;
param.segment_covariances = 10^k*a(1:8);
param.extremities = 10^k*param.extremities;

% convex hull parameter for hip flexor model
ConvHull.factor = param.ramp(1); ConvHull.limit = 1 / ConvHull.factor * 10;
ConvHull.Left = - ConvHull.limit; ConvHull.Right = - ConvHull.limit;

%% load Moticon areas
load('\\192.168.72.180\wearhealth\DATA\Alex Weidmann\1. GRF (Alex)\Moticon\areas.mat');
end